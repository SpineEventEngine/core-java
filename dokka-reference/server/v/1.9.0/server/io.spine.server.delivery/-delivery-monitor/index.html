<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>DeliveryMonitor</title>
    <link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../../";</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script>
<link href="../../../styles/style.css" rel="Stylesheet">
<link href="../../../styles/jetbrains-mono.css" rel="Stylesheet">
<link href="../../../styles/main.css" rel="Stylesheet">
<link href="../../../styles/prism.css" rel="Stylesheet">
<link href="../../../styles/logo-styles.css" rel="Stylesheet">
<script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="../../../scripts/prism.js" async="async"></script>
<script type="text/javascript" src="../../../scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
<link href="../../../images/logo-icon.svg">
<link href="../../../styles/custom-styles.css" rel="Stylesheet">
</head>
<body>
<div class="navigation-wrapper" id="navigation-wrapper">
    <div id="leftToggler"><span class="icon-toggler"></span></div>
    <div class="library-name">
            <a href="../../../index.html">
                    <span>server</span>
            </a>
    </div>
    <div>
1.9.0    </div>
    <div class="pull-right d-flex">
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":server:dokkaHtml/main">jvm</button>
        </div>
        <button id="theme-toggle-button"><span id="theme-toggle"></span></button>
        <div id="searchBar"></div>
    </div>
</div>
<div id="container">
    <div id="leftColumn">
        <div id="sideMenu"></div>
    </div>
    <div id="main">
<div class="main-content" data-page-type="classlike" id="content" pageIds="server::io.spine.server.delivery/DeliveryMonitor///PointingToDeclaration//-403166102">
  <div class="breadcrumbs"><a href="../../../index.html">server</a><span class="delimiter">/</span><a href="../index.html">io.spine.server.delivery</a><span class="delimiter">/</span><span class="current">DeliveryMonitor</span></div>
  <div class="cover ">
    <h1 class="cover"><span>Delivery</span><wbr></wbr><span><span>Monitor</span></span></h1>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":server:dokkaHtml/main"><div class="symbol monospace"><span class="token keyword">public </span><span class="token keyword">class </span><a href="index.html">DeliveryMonitor</a></div><p class="paragraph">A controlling monitor of a <a href="../-delivery/index.html">Inbox Delivery</a> process. </p><p class="paragraph">In some cases when a funnel-like <code class="lang-kotlin">Entity</code> (e.g. some projection of a business report subscribed to half of the domain events) has a lot of messages in its <code class="lang-kotlin">Inbox</code>, the delivery process may be slowed down for other targets in the same shard, while all the messages are being dispatched the &quot;busy&quot; <code class="lang-kotlin">Entity</code>. Depending on the number of messages to deliver, it may take a lot of time. </p><p class="paragraph">Environments such as Google AppEngine Standard imply restrictions on the duration of the request processing. Therefore, it may be necessary to stop the message delivery for this shard at some point, and re-schedule the shard processing again by sending another request and thus resetting the processing clock.</p></div></div>
  </div>
  <div class="tabbedcontent">
    <div class="tabs-section" tabs-section="tabs-section"><button class="section-tab" data-active="" data-togglable="CONSTRUCTOR,TYPE,FUNCTION,PROPERTY">Members</button></div>
    <div class="tabs-section-body">
      <div data-togglable="CONSTRUCTOR">
        <h2 class="">Constructors</h2>
        <div class="table"><a data-name="-4401693%2FConstructors%2F-403166102" anchor-label="DeliveryMonitor" id="-4401693%2FConstructors%2F-403166102" data-filterable-set=":server:dokkaHtml/main"></a>
          <div class="table-row" data-togglable="CONSTRUCTOR" data-filterable-current=":server:dokkaHtml/main" data-filterable-set=":server:dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="-delivery-monitor.html"><span>Delivery</span><wbr></wbr><span><span>Monitor</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-4401693%2FConstructors%2F-403166102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":server:dokkaHtml/main"><div class="symbol monospace block"><span class="token keyword">public </span><span class="token keyword"></span>void <a href="-delivery-monitor.html"><span class="token function">DeliveryMonitor</span></a><span class="token punctuation">(</span><span class="token punctuation">)</span></div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div data-togglable="FUNCTION">
        <h2 class="">Functions</h2>
        <div class="table"><a data-name="766533032%2FFunctions%2F-403166102" anchor-label="onDeliveryCompleted" id="766533032%2FFunctions%2F-403166102" data-filterable-set=":server:dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":server:dokkaHtml/main" data-filterable-set=":server:dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-delivery-completed.html"><span>on</span><wbr></wbr><span>Delivery</span><wbr></wbr><span><span>Completed</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="766533032%2FFunctions%2F-403166102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":server:dokkaHtml/main"><div class="symbol monospace block"><span class="token keyword">public </span><span class="token keyword"></span>void <a href="on-delivery-completed.html"><span class="token function">onDeliveryCompleted</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword"></span><a href="../-delivery-stats/index.html">DeliveryStats</a> stats</span></span><span class="token punctuation">)</span></div><div class="brief ">Called once some delivery process has completed and the corresponding shard has been released.</div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-1993595449%2FFunctions%2F-403166102" anchor-label="onDeliveryStarted" id="-1993595449%2FFunctions%2F-403166102" data-filterable-set=":server:dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":server:dokkaHtml/main" data-filterable-set=":server:dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-delivery-started.html"><span>on</span><wbr></wbr><span>Delivery</span><wbr></wbr><span><span>Started</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1993595449%2FFunctions%2F-403166102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":server:dokkaHtml/main"><div class="symbol monospace block"><span class="token keyword">public </span><span class="token keyword"></span>void <a href="on-delivery-started.html"><span class="token function">onDeliveryStarted</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword"></span>ShardIndex index</span></span><span class="token punctuation">)</span></div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="385716935%2FFunctions%2F-403166102" anchor-label="onReceptionFailure" id="385716935%2FFunctions%2F-403166102" data-filterable-set=":server:dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":server:dokkaHtml/main" data-filterable-set=":server:dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-reception-failure.html"><span>on</span><wbr></wbr><span>Reception</span><wbr></wbr><span><span>Failure</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="385716935%2FFunctions%2F-403166102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":server:dokkaHtml/main"><div class="symbol monospace block"><span class="token keyword">public </span><span class="token keyword"></span><a href="../-failed-reception/-action/index.html">FailedReception.Action</a> <a href="on-reception-failure.html"><span class="token function">onReceptionFailure</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword"></span><a href="../-failed-reception/index.html">FailedReception</a> reception</span></span><span class="token punctuation">)</span></div><div class="brief ">A callback invoked if the signal transmitted via given message was handled by the respective receptor with failure.</div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="-605901913%2FFunctions%2F-403166102" anchor-label="onShardAlreadyPicked" id="-605901913%2FFunctions%2F-403166102" data-filterable-set=":server:dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":server:dokkaHtml/main" data-filterable-set=":server:dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-shard-already-picked.html"><span>on</span><wbr></wbr><span>Shard</span><wbr></wbr><span>Already</span><wbr></wbr><span><span>Picked</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-605901913%2FFunctions%2F-403166102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":server:dokkaHtml/main"><div class="symbol monospace block"><span class="token keyword">public </span><span class="token keyword"></span><a href="../-failed-pick-up/-action/index.html">FailedPickUp.Action</a> <a href="on-shard-already-picked.html"><span class="token function">onShardAlreadyPicked</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword"></span><a href="../-already-picked-up/index.html">AlreadyPickedUp</a> failure</span></span><span class="token punctuation">)</span></div><div class="brief ">Called if <code class="lang-kotlin">Delivery</code> could not pick up a shard because it was already picked up by another worker.</div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1751306188%2FFunctions%2F-403166102" anchor-label="onShardPickUpFailure" id="1751306188%2FFunctions%2F-403166102" data-filterable-set=":server:dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":server:dokkaHtml/main" data-filterable-set=":server:dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="on-shard-pick-up-failure.html"><span>on</span><wbr></wbr><span>Shard</span><wbr></wbr><span>Pick</span><wbr></wbr><span>Up</span><wbr></wbr><span><span>Failure</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1751306188%2FFunctions%2F-403166102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":server:dokkaHtml/main"><div class="symbol monospace block"><span class="token keyword">public </span><span class="token keyword"></span><a href="../-failed-pick-up/-action/index.html">FailedPickUp.Action</a> <a href="on-shard-pick-up-failure.html"><span class="token function">onShardPickUpFailure</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword"></span><a href="../-runtime-failure/index.html">RuntimeFailure</a> failure</span></span><span class="token punctuation">)</span></div><div class="brief ">Called if an <code class="lang-kotlin">Exception</code> occurred when the <code class="lang-kotlin">Delivery</code> attempted to pick up a shard.</div></div></div>
                </div>
              </div>
            </div>
          </div>
<a data-name="1605420497%2FFunctions%2F-403166102" anchor-label="shouldContinueAfter" id="1605420497%2FFunctions%2F-403166102" data-filterable-set=":server:dokkaHtml/main"></a>
          <div class="table-row" data-filterable-current=":server:dokkaHtml/main" data-filterable-set=":server:dokkaHtml/main">
            <div class="main-subrow keyValue ">
              <div class=""><span class="inline-flex">
                  <div><a href="should-continue-after.html"><span>should</span><wbr></wbr><span>Continue</span><wbr></wbr><span><span>After</span></span></a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="1605420497%2FFunctions%2F-403166102"></span>
                    <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                  </span></span></div>
              <div>
                <div class="title">
                  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":server:dokkaHtml/main"><div class="symbol monospace block"><span class="token keyword">public </span><span class="token keyword"></span>boolean <a href="should-continue-after.html"><span class="token function">shouldContinueAfter</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter "><span class="token keyword"></span>DeliveryStage stage</span></span><span class="token punctuation">)</span></div><div class="brief ">Determines if the delivery execution should be continued after the given stage is completed.</div></div></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>Copyright 2023, TeamDev</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
    </div>
</div>
</body>
</html>
