<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ProjectionRepository (server 2.0.0-SNAPSHOT.21 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ProjectionRepository (server 2.0.0-SNAPSHOT.21 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/spine/server/projection/ProjectionMigration.html" title="class in io.spine.server.projection"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/spine/server/projection/ProjectionRepository.html" target="_top">Frames</a></li>
<li><a href="ProjectionRepository.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.spine.server.projection</div>
<h2 title="Class ProjectionRepository" class="title">Class ProjectionRepository&lt;I,P extends <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection">Projection</a>&lt;I,S,?&gt;,S extends io.spine.base.EntityState&lt;I&gt;&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/spine/server/entity/Repository.html" title="class in io.spine.server.entity">io.spine.server.entity.Repository</a>&lt;I,E&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/spine/server/entity/RecordBasedRepository.html" title="class in io.spine.server.entity">io.spine.server.entity.RecordBasedRepository</a>&lt;I,E,S&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/spine/server/entity/DefaultRecordBasedRepository.html" title="class in io.spine.server.entity">io.spine.server.entity.DefaultRecordBasedRepository</a>&lt;I,E,S&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">io.spine.server.entity.EventDispatchingRepository</a>&lt;I,P,S&gt;</li>
<li>
<ul class="inheritance">
<li>io.spine.server.projection.ProjectionRepository&lt;I,P,S&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>I</code> - the type of IDs of projections</dd>
<dd><code>P</code> - the type of projections</dd>
<dd><code>S</code> - the type of projection state messages</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>io.spine.logging.Logging, <a href="../../../../io/spine/server/bus/MessageDispatcher.html" title="interface in io.spine.server.bus">MessageDispatcher</a>&lt;<a href="../../../../io/spine/server/type/EventClass.html" title="class in io.spine.server.type">EventClass</a>,<a href="../../../../io/spine/server/type/EventEnvelope.html" title="class in io.spine.server.type">EventEnvelope</a>&gt;, <a href="../../../../io/spine/server/bus/MulticastDispatcher.html" title="interface in io.spine.server.bus">MulticastDispatcher</a>&lt;<a href="../../../../io/spine/server/type/EventClass.html" title="class in io.spine.server.type">EventClass</a>,<a href="../../../../io/spine/server/type/EventEnvelope.html" title="class in io.spine.server.type">EventEnvelope</a>&gt;, <a href="../../../../io/spine/server/Closeable.html" title="interface in io.spine.server">Closeable</a>, <a href="../../../../io/spine/server/event/EventDispatcher.html" title="interface in io.spine.server.event">EventDispatcher</a>, java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">ProjectionRepository&lt;I,P extends <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection">Projection</a>&lt;I,S,?&gt;,S extends io.spine.base.EntityState&lt;I&gt;&gt;</span>
extends <a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a>&lt;I,P,S&gt;</pre>
<div class="block">Abstract base for repositories managing <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection"><code>Projection</code></a>s.

 <p><a href="../../../../io/spine/server/projection/ProjectionRepository.html#catchUp-com.google.protobuf.Timestamp-java.util.Set-">Provides an API</a> for the entity catch-up. During this
 process, the framework re-builds the states of all or the selected projection instances
 by replaying the historical events from the <code>EventStore</code> of its Bounded Context.
 The catch-up process is fully automated and may be scaled across instances.

 <p>To start the catch-up, one should call a corresponding method (see below).

 <pre>
     TaskViewRepository repository = new TaskViewRepository();

     BoundedContextBuilder builder = BoundedContext.singleTenant("Tasks")
                                                   .add(repository)
                                                   .build();
     // ...

     //Start the catch-up when needed:
     Timestamp replayHistorySince = ...
     repository.catchUp(replayHistorySince, ImmutableSet.of(outdatedTaskId, anotherOne));
 </pre>

 <p>All the live events dispatched to the entities-under-catch-up are not lost.
 They are preserved and dispatched to the projections in a proper historical order.

 <p>After the catch-up is completed, the framework automatically switches back to the propagation
 of the live events.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#ProjectionRepository--">ProjectionRepository</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#canDispatch-io.spine.server.type.EventEnvelope-">canDispatch</a></span>(<a href="../../../../io/spine/server/type/EventEnvelope.html" title="class in io.spine.server.type">EventEnvelope</a>&nbsp;event)</code>
<div class="block">Checks if this dispatcher can dispatch the given message.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>io.spine.server.delivery.CatchUpId</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#catchUp-com.google.protobuf.Timestamp-java.util.Set-">catchUp</a></span>(com.google.protobuf.Timestamp&nbsp;since,
       @Nullable java.util.Set&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&nbsp;ids)</code>
<div class="block">Repeats the dispatching of the events from the event log to the requested entities
 since the specified time.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>io.spine.server.delivery.CatchUpId</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#catchUpAll-com.google.protobuf.Timestamp-">catchUpAll</a></span>(com.google.protobuf.Timestamp&nbsp;since)</code>
<div class="block">Starts the catch-up of all entities in this repository.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#close--">close</a></span>()</code>
<div class="block">Closes the repository by closing the underlying storage.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#create-I-">create</a></span>(<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&nbsp;id)</code>
<div class="block">Create a new entity instance with its default state.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#dispatchTo-I-io.spine.core.Event-">dispatchTo</a></span>(<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&nbsp;id,
          io.spine.core.Event&nbsp;event)</code>
<div class="block">Dispatches the given event to an entity with the given ID.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>com.google.common.collect.ImmutableSet&lt;<a href="../../../../io/spine/server/type/EventClass.html" title="class in io.spine.server.type">EventClass</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#domesticEventClasses--">domesticEventClasses</a></span>()</code>
<div class="block">Obtains classes of domestic events processed by this dispatcher.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>com.google.common.collect.ImmutableSet&lt;<a href="../../../../io/spine/server/type/EventClass.html" title="class in io.spine.server.type">EventClass</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#externalEventClasses--">externalEventClasses</a></span>()</code>
<div class="block">Obtains classes of external events processed by this dispatcher.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#findOrCreate-I-">findOrCreate</a></span>(<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&nbsp;id)</code>
<div class="block">Loads an entity by the passed ID or creates a new one, if the entity was not found.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>com.google.common.collect.ImmutableSet&lt;<a href="../../../../io/spine/server/type/EventClass.html" title="class in io.spine.server.type">EventClass</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#messageClasses--">messageClasses</a></span>()</code>
<div class="block">Obtains a set of message classes that can be processed by this dispatcher.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="class in io.spine.server.entity.storage">EntityRecordStorage</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#recordStorage--">recordStorage</a></span>()</code>
<div class="block">Ensures that the repository has the storage.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#registerWith-io.spine.server.BoundedContext-">registerWith</a></span>(<a href="../../../../io/spine/server/BoundedContext.html" title="class in io.spine.server">BoundedContext</a>&nbsp;context)</code>
<div class="block">Initializes the repository.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#setupEventRouting-io.spine.server.route.EventRouting-">setupEventRouting</a></span>(<a href="../../../../io/spine/server/route/EventRouting.html" title="class in io.spine.server.route">EventRouting</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&nbsp;routing)</code>
<div class="block">A callback for derived repository classes to customize routing schema for events.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#setupStateRouting-io.spine.server.route.StateUpdateRouting-">setupStateRouting</a></span>(<a href="../../../../io/spine/server/route/StateUpdateRouting.html" title="class in io.spine.server.route">StateUpdateRouting</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&nbsp;routing)</code>
<div class="block">A callback for derived repository classes to customize routing schema for delivering
 updated state to subscribed entities, if the default schema does not satisfy
 the routing needs.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../io/spine/server/stand/Stand.html" title="class in io.spine.server.stand">Stand</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#stand--">stand</a></span>()</code>
<div class="block">Obtains the <code>Stand</code> from the <code>BoundedContext</code> of this repository.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/spine/server/projection/ProjectionRepository.html#store-P-">store</a></span>(<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a>&nbsp;entity)</code>
<div class="block">Stores the passed object.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.entity.EventDispatchingRepository">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.entity.<a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a></h3>
<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#dispatch-io.spine.server.type.EventEnvelope-">dispatch</a>, <a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#route-io.spine.server.type.EventEnvelope-">route</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.entity.DefaultRecordBasedRepository">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.entity.<a href="../../../../io/spine/server/entity/DefaultRecordBasedRepository.html" title="class in io.spine.server.entity">DefaultRecordBasedRepository</a></h3>
<code><a href="../../../../io/spine/server/entity/DefaultRecordBasedRepository.html#entityFactory--">entityFactory</a>, <a href="../../../../io/spine/server/entity/DefaultRecordBasedRepository.html#storageConverter--">storageConverter</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.entity.RecordBasedRepository">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.entity.<a href="../../../../io/spine/server/entity/RecordBasedRepository.html" title="class in io.spine.server.entity">RecordBasedRepository</a></h3>
<code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html#applyMigration-I-io.spine.server.entity.Migration-">applyMigration</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#applyMigration-java.util.Set-io.spine.server.entity.Migration-">applyMigration</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#createStorage--">createStorage</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#find-io.spine.query.EntityQuery-">find</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#find-I-">find</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#find-io.spine.client.TargetFilters-io.spine.client.ResponseFormat-">find</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#findActive-I-">findActive</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#iterator-java.util.function.Predicate-">iterator</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#loadAll-java.lang.Iterable-com.google.protobuf.FieldMask-">loadAll</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#loadAll-io.spine.client.ResponseFormat-">loadAll</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#store-java.util.Collection-">store</a>, <a href="../../../../io/spine/server/entity/RecordBasedRepository.html#toEntity-io.spine.server.entity.EntityRecord-">toEntity</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.entity.Repository">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.entity.<a href="../../../../io/spine/server/entity/Repository.html" title="class in io.spine.server.entity">Repository</a></h3>
<code><a href="../../../../io/spine/server/entity/Repository.html#checkStorage-S-">checkStorage</a>, <a href="../../../../io/spine/server/entity/Repository.html#context--">context</a>, <a href="../../../../io/spine/server/entity/Repository.html#entityClass--">entityClass</a>, <a href="../../../../io/spine/server/entity/Repository.html#entityStateType--">entityStateType</a>, <a href="../../../../io/spine/server/entity/Repository.html#eventFilter--">eventFilter</a>, <a href="../../../../io/spine/server/entity/Repository.html#hasContext--">hasContext</a>, <a href="../../../../io/spine/server/entity/Repository.html#idClass--">idClass</a>, <a href="../../../../io/spine/server/entity/Repository.html#index--">index</a>, <a href="../../../../io/spine/server/entity/Repository.html#isOpen--">isOpen</a>, <a href="../../../../io/spine/server/entity/Repository.html#isRegistered--">isRegistered</a>, <a href="../../../../io/spine/server/entity/Repository.html#onRegistered--">onRegistered</a>, <a href="../../../../io/spine/server/entity/Repository.html#open--">open</a>, <a href="../../../../io/spine/server/entity/Repository.html#storage--">storage</a>, <a href="../../../../io/spine/server/entity/Repository.html#storageAssigned--">storageAssigned</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.event.EventDispatcher">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;io.spine.server.event.<a href="../../../../io/spine/server/event/EventDispatcher.html" title="interface in io.spine.server.event">EventDispatcher</a></h3>
<code><a href="../../../../io/spine/server/event/EventDispatcher.html#dispatchesEvents--">dispatchesEvents</a>, <a href="../../../../io/spine/server/event/EventDispatcher.html#dispatchesExternalEvents--">dispatchesExternalEvents</a>, <a href="../../../../io/spine/server/event/EventDispatcher.html#eventClasses--">eventClasses</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.Closeable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;io.spine.server.<a href="../../../../io/spine/server/Closeable.html" title="interface in io.spine.server">Closeable</a></h3>
<code><a href="../../../../io/spine/server/Closeable.html#checkOpen--">checkOpen</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.logging.Logging">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;io.spine.logging.Logging</h3>
<code>_config, _debug, _error, _fine, _finer, _finest, _info, _severe, _trace, _warn, debugLevel, errorLevel, logger, loggerFor</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ProjectionRepository--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ProjectionRepository</h4>
<pre>public&nbsp;ProjectionRepository()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="registerWith-io.spine.server.BoundedContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerWith</h4>
<pre>@OverridingMethodsMustInvokeSuper
public&nbsp;void&nbsp;registerWith(<a href="../../../../io/spine/server/BoundedContext.html" title="class in io.spine.server">BoundedContext</a>&nbsp;context)
                                                    throws java.lang.IllegalStateException</pre>
<div class="block">Initializes the repository.

 <p>Ensures there is at least one event subscriber method (external or domestic) declared
 by the class of the projection. Throws an <code>IllegalStateException</code> otherwise.

 <p>If projections of this repository are subscribed to
 entity state updates, a routing for state updates is created and
 <a href="../../../../io/spine/server/projection/ProjectionRepository.html#setupStateRouting-io.spine.server.route.StateUpdateRouting-">configured</a>.
 If one of the states of entities cannot be routed during the created schema,
 <code>IllegalStateException</code> will be thrown.

 <p>Initializes the <a href="../../../../io/spine/server/delivery/Inbox.html" title="class in io.spine.server.delivery"><code>Inbox</code></a>es for the instances of this repository and creates
 a <a href="../../../../io/spine/server/entity/RepositoryCache.html" title="class in io.spine.server.entity"><code>RepositoryCache</code></a> to optimize the delivery of the event batches.

 <p>Creates an instance of the <a href="../../../../io/spine/server/delivery/CatchUpProcess.html" title="class in io.spine.server.delivery"><code>CatchUpProcess</code></a> enabling this repository <a href="../../../../io/spine/server/projection/ProjectionRepository.html#catchUp-com.google.protobuf.Timestamp-java.util.Set-">to catch-up</a> its instances.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#registerWith-io.spine.server.BoundedContext-">registerWith</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a> extends <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection">Projection</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a> extends io.spine.base.EntityState&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the <code>BoundedContext</code> of this repository</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the state routing does not cover one of the entity state types to which
         the entities are subscribed</dd>
</dl>
</li>
</ul>
<a name="setupEventRouting-io.spine.server.route.EventRouting-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupEventRouting</h4>
<pre>@OverridingMethodsMustInvokeSuper
protected&nbsp;void&nbsp;setupEventRouting(<a href="../../../../io/spine/server/route/EventRouting.html" title="class in io.spine.server.route">EventRouting</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&nbsp;routing)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#setupEventRouting-io.spine.server.route.EventRouting-">EventDispatchingRepository</a></code></span></div>
<div class="block">A callback for derived repository classes to customize routing schema for events.

 <p>Default routing returns the ID of the entity which
 produced the event.
 This allows to “link” different kinds of entities by having the same class of IDs.
 More complex scenarios (e.g. one-to-many relationships) may require custom routing schemas.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#setupEventRouting-io.spine.server.route.EventRouting-">setupEventRouting</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a> extends <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection">Projection</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a> extends io.spine.base.EntityState&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routing</code> - the routing schema to customize</dd>
</dl>
</li>
</ul>
<a name="setupStateRouting-io.spine.server.route.StateUpdateRouting-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setupStateRouting</h4>
<pre>protected&nbsp;void&nbsp;setupStateRouting(<a href="../../../../io/spine/server/route/StateUpdateRouting.html" title="class in io.spine.server.route">StateUpdateRouting</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&nbsp;routing)</pre>
<div class="block">A callback for derived repository classes to customize routing schema for delivering
 updated state to subscribed entities, if the default schema does not satisfy
 the routing needs.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>routing</code> - the routing to customize</dd>
</dl>
</li>
</ul>
<a name="create-java.lang.Object-">
<!--   -->
</a><a name="create-I-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>@OverridingMethodsMustInvokeSuper
public&nbsp;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a>&nbsp;create(<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&nbsp;id)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../io/spine/server/entity/Repository.html#create-I-">Repository</a></code></span></div>
<div class="block">Create a new entity instance with its default state.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html#create-I-">create</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html" title="class in io.spine.server.entity">RecordBasedRepository</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a> extends <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection">Projection</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a> extends io.spine.base.EntityState&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the id of the entity</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new entity instance</dd>
</dl>
</li>
</ul>
<a name="stand--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stand</h4>
<pre>protected final&nbsp;<a href="../../../../io/spine/server/stand/Stand.html" title="class in io.spine.server.stand">Stand</a>&nbsp;stand()</pre>
<div class="block">Obtains the <code>Stand</code> from the <code>BoundedContext</code> of this repository.</div>
</li>
</ul>
<a name="recordStorage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordStorage</h4>
<pre>protected final&nbsp;<a href="../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="class in io.spine.server.entity.storage">EntityRecordStorage</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a>&gt;&nbsp;recordStorage()</pre>
<div class="block">Ensures that the repository has the storage.

 <p>Overrides the parent method to expose it to this package.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html#recordStorage--">recordStorage</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html" title="class in io.spine.server.entity">RecordBasedRepository</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a> extends <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection">Projection</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a> extends io.spine.base.EntityState&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>storage instance</dd>
</dl>
</li>
</ul>
<a name="findOrCreate-java.lang.Object-">
<!--   -->
</a><a name="findOrCreate-I-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findOrCreate</h4>
<pre>protected final&nbsp;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a>&nbsp;findOrCreate(<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&nbsp;id)</pre>
<div class="block">Loads an entity by the passed ID or creates a new one, if the entity was not found.

 <p>An entity will be loaded whether its <a href="../../../../io/spine/server/entity/WithLifecycle.html#isActive--">active</a> or not.

 <p>The new entity is created if and only if there is no record with the corresponding ID.

 <p>Overrides to perform finding using the cache.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html#findOrCreate-I-">findOrCreate</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html" title="class in io.spine.server.entity">RecordBasedRepository</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a> extends <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection">Projection</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a> extends io.spine.base.EntityState&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the ID of the entity to load</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entity with the specified ID</dd>
</dl>
</li>
</ul>
<a name="store-io.spine.server.projection.Projection-">
<!--   -->
</a><a name="store-P-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>store</h4>
<pre>public final&nbsp;void&nbsp;store(<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a>&nbsp;entity)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../io/spine/server/entity/Repository.html#store-E-">Repository</a></code></span></div>
<div class="block">Stores the passed object.

 <p>Note: The storage must be assigned before calling this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html#store-E-">store</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/RecordBasedRepository.html" title="class in io.spine.server.entity">RecordBasedRepository</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a> extends <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection">Projection</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a> extends io.spine.base.EntityState&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entity</code> - an instance to store</dd>
</dl>
</li>
</ul>
<a name="messageClasses--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>messageClasses</h4>
<pre>public final&nbsp;com.google.common.collect.ImmutableSet&lt;<a href="../../../../io/spine/server/type/EventClass.html" title="class in io.spine.server.type">EventClass</a>&gt;&nbsp;messageClasses()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/spine/server/bus/MessageDispatcher.html#messageClasses--">MessageDispatcher</a></code></span></div>
<div class="block">Obtains a set of message classes that can be processed by this dispatcher.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>non-empty set of message classes</dd>
</dl>
</li>
</ul>
<a name="domesticEventClasses--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>domesticEventClasses</h4>
<pre>public final&nbsp;com.google.common.collect.ImmutableSet&lt;<a href="../../../../io/spine/server/type/EventClass.html" title="class in io.spine.server.type">EventClass</a>&gt;&nbsp;domesticEventClasses()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/spine/server/event/EventDispatcher.html#domesticEventClasses--">EventDispatcher</a></code></span></div>
<div class="block">Obtains classes of domestic events processed by this dispatcher.</div>
</li>
</ul>
<a name="externalEventClasses--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>externalEventClasses</h4>
<pre>public final&nbsp;com.google.common.collect.ImmutableSet&lt;<a href="../../../../io/spine/server/type/EventClass.html" title="class in io.spine.server.type">EventClass</a>&gt;&nbsp;externalEventClasses()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/spine/server/event/EventDispatcher.html#externalEventClasses--">EventDispatcher</a></code></span></div>
<div class="block">Obtains classes of external events processed by this dispatcher.</div>
</li>
</ul>
<a name="canDispatch-io.spine.server.type.EventEnvelope-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canDispatch</h4>
<pre>@OverridingMethodsMustInvokeSuper
public final&nbsp;boolean&nbsp;canDispatch(<a href="../../../../io/spine/server/type/EventEnvelope.html" title="class in io.spine.server.type">EventEnvelope</a>&nbsp;event)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../io/spine/server/bus/MessageDispatcher.html#canDispatch-E-">MessageDispatcher</a></code></span></div>
<div class="block">Checks if this dispatcher can dispatch the given message.

 <p>This method does not check that the type of the message is one of
 the <a href="../../../../io/spine/server/bus/MessageDispatcher.html#messageClasses--">dispatched message classes</a>. Instead, it validates
 the message upon some custom rules of this dispatcher.

 <p>Extend this method to forbid messages from being dispatched to this instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - the message to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> is the given message can be dispatched by this dispatcher,
         <code>false</code> otherwise</dd>
</dl>
</li>
</ul>
<a name="dispatchTo-java.lang.Object-io.spine.core.Event-">
<!--   -->
</a><a name="dispatchTo-I-io.spine.core.Event-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dispatchTo</h4>
<pre>protected final&nbsp;void&nbsp;dispatchTo(<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&nbsp;id,
                                io.spine.core.Event&nbsp;event)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#dispatchTo-I-io.spine.core.Event-">EventDispatchingRepository</a></code></span></div>
<div class="block">Dispatches the given event to an entity with the given ID.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html#dispatchTo-I-io.spine.core.Event-">dispatchTo</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/EventDispatchingRepository.html" title="class in io.spine.server.entity">EventDispatchingRepository</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a> extends <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection">Projection</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a>,?&gt;,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a> extends io.spine.base.EntityState&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the target entity ID</dd>
<dd><code>event</code> - the event to dispatch</dd>
</dl>
</li>
</ul>
<a name="catchUp-com.google.protobuf.Timestamp-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>catchUp</h4>
<pre>public&nbsp;io.spine.server.delivery.CatchUpId&nbsp;catchUp(com.google.protobuf.Timestamp&nbsp;since,
                                                  @Nullable java.util.Set&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>&gt;&nbsp;ids)
                                           throws <a href="../../../../io/spine/server/delivery/CatchUpAlreadyStartedException.html" title="class in io.spine.server.delivery">CatchUpAlreadyStartedException</a></pre>
<div class="block">Repeats the dispatching of the events from the event log to the requested entities
 since the specified time.

 <p>At the beginning of the process the state of each of the entities is set to the default.

 <p>During this process, the entities receive continuous updates to their state. After the
 catch-up is completed, the framework automatically resumes the dispatching of ongoing live
 events. When the catch-up is completed, a
 <code>CatchUpCompleted</code> event is emitted.
 One may use the identifier of the catch-up process and subscribe to the events of this type
 to understand whether the operation is done.

 <p>The subscriptions to the entity state updates (i.e.
 <code>EntityStateChanged</code>) events are not
 supported in the catch-up.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>since</code> - point in the past, since which the catch-up should be performed</dd>
<dd><code>ids</code> - identifiers of the entities to catch up, <code>null</code> means that all entities should
         be caught up</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>identifier of the catch-up operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../io/spine/server/delivery/CatchUpAlreadyStartedException.html" title="class in io.spine.server.delivery">CatchUpAlreadyStartedException</a></code> - if another catch-up for the same entity type and overlapping targets is already in
         progress</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../io/spine/server/projection/ProjectionRepository.html#catchUpAll-com.google.protobuf.Timestamp-"><code>on a shortcut method which starts the catch-up for all
         entities in this repository</code></a></dd>
</dl>
</li>
</ul>
<a name="catchUpAll-com.google.protobuf.Timestamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>catchUpAll</h4>
<pre>public&nbsp;io.spine.server.delivery.CatchUpId&nbsp;catchUpAll(com.google.protobuf.Timestamp&nbsp;since)
                                              throws <a href="../../../../io/spine/server/delivery/CatchUpAlreadyStartedException.html" title="class in io.spine.server.delivery">CatchUpAlreadyStartedException</a></pre>
<div class="block">Starts the catch-up of all entities in this repository.

 <p>This is a shortcut method for <a href="../../../../io/spine/server/projection/ProjectionRepository.html#catchUp-com.google.protobuf.Timestamp-java.util.Set-"><code>catchUp(since, null)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>since</code> - point in the past, since which the catch-up should be performed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>identifier of the catch-up operation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../io/spine/server/delivery/CatchUpAlreadyStartedException.html" title="class in io.spine.server.delivery">CatchUpAlreadyStartedException</a></code> - if another catch-up for the same entity type is already in progress</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../io/spine/server/projection/ProjectionRepository.html#catchUp-com.google.protobuf.Timestamp-java.util.Set-"><code>ProjectionRepository.catchUp(Timestamp, Set)</code></a></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>@OverridingMethodsMustInvokeSuper
public&nbsp;void&nbsp;close()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../io/spine/server/entity/Repository.html#close--">Repository</a></code></span></div>
<div class="block">Closes the repository by closing the underlying storage.

 <p>The reference to the storage becomes null after this call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../io/spine/server/entity/Repository.html#close--">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../io/spine/server/entity/Repository.html" title="class in io.spine.server.entity">Repository</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">P</a> extends <a href="../../../../io/spine/server/projection/Projection.html" title="class in io.spine.server.projection">Projection</a>&lt;<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">I</a>,<a href="../../../../io/spine/server/projection/ProjectionRepository.html" title="type parameter in ProjectionRepository">S</a>,?&gt;&gt;</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/spine/server/projection/ProjectionMigration.html" title="class in io.spine.server.projection"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/spine/server/projection/ProjectionRepository.html" target="_top">Frames</a></li>
<li><a href="ProjectionRepository.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
