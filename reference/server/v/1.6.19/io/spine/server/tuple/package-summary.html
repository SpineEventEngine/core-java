<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>io.spine.server.tuple (server 1.6.19 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="io.spine.server.tuple (server 1.6.19 API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/spine/server/transport/memory/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../io/spine/server/type/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/spine/server/tuple/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<p>@CheckReturnValue
 @ParametersAreNonnullByDefault
</p>
<h1 title="Package" class="title">Package&nbsp;io.spine.server.tuple</h1>
<div class="docSummary">
<div class="block">This package provides classes for return values from message-handling methods.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../io/spine/server/tuple/Either.html" title="class in io.spine.server.tuple">Either</a></td>
<td class="colLast">
<div class="block">Abstract base for values that can be one of the possible types.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../io/spine/server/tuple/EitherOf2.html" title="class in io.spine.server.tuple">EitherOf2</a>&lt;A extends com.google.protobuf.Message,B extends com.google.protobuf.Message&gt;</td>
<td class="colLast">
<div class="block">A value which can be one of two possible types.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../io/spine/server/tuple/EitherOf3.html" title="class in io.spine.server.tuple">EitherOf3</a>&lt;A extends com.google.protobuf.Message,B extends com.google.protobuf.Message,C extends com.google.protobuf.Message&gt;</td>
<td class="colLast">
<div class="block">A value which can be one of three possible types.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../io/spine/server/tuple/EitherOf4.html" title="class in io.spine.server.tuple">EitherOf4</a>&lt;A extends com.google.protobuf.Message,B extends com.google.protobuf.Message,C extends com.google.protobuf.Message,D extends com.google.protobuf.Message&gt;</td>
<td class="colLast">
<div class="block">A value which can be one of four possible types.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../io/spine/server/tuple/EitherOf5.html" title="class in io.spine.server.tuple">EitherOf5</a>&lt;A extends com.google.protobuf.Message,B extends com.google.protobuf.Message,C extends com.google.protobuf.Message,D extends com.google.protobuf.Message,E extends com.google.protobuf.Message&gt;</td>
<td class="colLast">
<div class="block">A value which can be one of five possible types.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../io/spine/server/tuple/Pair.html" title="class in io.spine.server.tuple">Pair</a>&lt;A extends com.google.protobuf.Message,B&gt;</td>
<td class="colLast">
<div class="block">A tuple with two elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../io/spine/server/tuple/Quartet.html" title="class in io.spine.server.tuple">Quartet</a>&lt;A extends com.google.protobuf.Message,B,C,D&gt;</td>
<td class="colLast">
<div class="block">A tuple with four elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../io/spine/server/tuple/Quintet.html" title="class in io.spine.server.tuple">Quintet</a>&lt;A extends com.google.protobuf.Message,B,C,D,E&gt;</td>
<td class="colLast">
<div class="block">A tuple of five elements.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../io/spine/server/tuple/Triplet.html" title="class in io.spine.server.tuple">Triplet</a>&lt;A extends com.google.protobuf.Message,B,C&gt;</td>
<td class="colLast">
<div class="block">A tuple with three elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../io/spine/server/tuple/Tuple.html" title="class in io.spine.server.tuple">Tuple</a></td>
<td class="colLast">
<div class="block">Abstract base for tuple classes.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package io.spine.server.tuple Description">Package io.spine.server.tuple Description</h2>
<div class="block">This package provides classes for return values from message-handling methods.

 <h3>Overview</h3>
 
 <p>Although tuples are <a href="https://github.com/google/guava/wiki/IdeaGraveyard#tuples-for-n--2">
 considered harmful</a> in general, they are useful for describing types of several messages
 returned by a method. Consider the following example.

 <p>The return value of the below method does not say much about the number and types
 of returned event messages. We just know that there may be more than one of them.
 <pre>
     @Assign
     List&lt;EventMessage&gt; on(CreateTask cmd) { ... }
 </pre>

 The below declaration gives both the number and types of the returned events:
 <pre>
     @Assign
     Pair&lt;TaskCreated, Optional&lt;TaskAssigned&gt;&gt; on(CreateTask cmd) { ... }
 </pre>

 <p>Why do we suggest returning a tuple (a <code>Pair</code> in the example above) instead of creating
 a message type which would aggregate those of interest as our colleagues from the Guava team
 <a href="https://github.com/google/guava/wiki/IdeaGraveyard#tuples-for-n--2">suggest</a>?

 <p>Messages returned from a handling method are loosely coupled. They may not
 be created together all the time. The example above tells that <code>TaskAssigned</code>
 may not happen upon the creation of the task. It's possible that a task can be assigned
 sometime later. In this case combining returned messages does not reflect the domain language.
 Returning a tuple tells a part of the story in terms of the domain language right in the method
 signature. Details of this story are obtained from the method body.

 <p>It should be re-iterated that the purpose of this package is limited to the scenarios
 of handling messages. Programmers are strongly discouraged from using this package for
 other purposes.

 <h3>Two groups of classes</h3>
 
 This package provides two groups of classes:
 <ol>
     <li><a href="../../../../io/spine/server/tuple/Tuple.html" title="class in io.spine.server.tuple"><code>Tuple</code></a> classes are for returning more than one message.
     <li>Alternatives -- classes derived from <a href="../../../../io/spine/server/tuple/Either.html" title="class in io.spine.server.tuple"><code>Either</code></a> -- are
     for returning only one message belonging the known set of types.
 </ol>

 <h3>Generic Parameters</h3>

 <p>Classes provided by this package can support up to 5 generic parameters.
 These parameters are named from <code>&lt;A&gt;</code> through <code>&lt;E&gt;</code>. Types that can be passed to
 these parameters are described in the sections below.

 <h3>Tuples</h3>

 <p>The following tuple classes are provided:
 <ul>
    <li><a href="../../../../io/spine/server/tuple/Pair.html" title="class in io.spine.server.tuple"><code>Pair&lt;A, B&gt;</code></a>
    <li><a href="../../../../io/spine/server/tuple/Triplet.html" title="class in io.spine.server.tuple"><code>Triplet&lt;A, B, C&gt;</code></a>
    <li><a href="../../../../io/spine/server/tuple/Quartet.html" title="class in io.spine.server.tuple"><code>Quartet&lt;A, B, C, D&gt;</code></a>
    <li><a href="../../../../io/spine/server/tuple/Quintet.html" title="class in io.spine.server.tuple"><code>Quintet&lt;A, B, C, D, E&gt;</code></a>
 </ul>

 <p>The first generic parameter <code>&lt;A&gt;</code> must always be a specific
 <code>Message</code> class.

 <p>Tuple classes allow <code>Optional</code> starting from
 the second generic argument. The example below shows the method which always returns
 the <code>TaskCreated</code> event, and returns the <code>TaskAssigned</code> event only if
 the <code>CreateTask</code> command instructs to assign the task to a person.
 <pre>
     @Assign
     Pair&lt;TaskCreated, Optional&lt;TaskAssigned&gt;&gt; on(CreateTask cmd) { ... }
 </pre>

 <h3>Alternatives</h3>

 <p>In some cases it is needed to return one message from a limited set of possible options.
 For example, the following method issues a command <code>MoveToTrash</code> if no work
 was reported on the task, and <code>CancelTask</code> if some work has been already logged.
 <pre>
     @Command
     EitherOf2&lt;MoveToTrash, CancelTask&gt; handle(RemoveTask cmd) { ... }
 </pre>

 <p>In order to define alternatively returned values, please use the following classes:
 <ul>
     <li><a href="../../../../io/spine/server/tuple/EitherOf2.html" title="class in io.spine.server.tuple"><code>EitherOf2&lt;A, B&gt;</code></a>
     <li><a href="../../../../io/spine/server/tuple/EitherOf3.html" title="class in io.spine.server.tuple"><code>EitherOf3&lt;A, B, C&gt;</code></a>
     <li><a href="../../../../io/spine/server/tuple/EitherOf4.html" title="class in io.spine.server.tuple"><code>EitherOf4&lt;A, B, C, D&gt;</code></a>
     <li><a href="../../../../io/spine/server/tuple/EitherOf5.html" title="class in io.spine.server.tuple"><code>EitherOf5&lt;A, B, C, D, E&gt;</code></a>
 </ul>

 <p>Generic parameters for alternatives accept only <code>Message</code>
 classes.

 <p>We believe that a list of alternatives longer than five is hard to understand.
 If you face a such a need, consider splitting incoming message into two or more independent ones
 so that their outcome is more obvious.

 <h3>Using Tuples with Alternatives</h3>

 <p>A <a href="../../../../io/spine/server/tuple/Pair.html" title="class in io.spine.server.tuple"><code>Pair</code></a> can be defined with the second parameter being one
 of the <a href="../../../../io/spine/server/tuple/Either.html" title="class in io.spine.server.tuple"><code>Either</code></a> subclasses, and created using
 <a href="../../../../io/spine/server/tuple/Pair.html#withEither-A-B-"><code>Pair.withEither()</code></a>.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/spine/server/transport/memory/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../io/spine/server/type/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/spine/server/tuple/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
