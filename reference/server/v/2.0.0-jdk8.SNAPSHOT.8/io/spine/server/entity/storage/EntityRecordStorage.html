<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>EntityRecordStorage (server 2.0.0-jdk8.SNAPSHOT.8 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EntityRecordStorage (server 2.0.0-jdk8.SNAPSHOT.8 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../io/spine/server/entity/storage/EntityRecordWithColumns.html" title="class in io.spine.server.entity.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?io/spine/server/entity/storage/EntityRecordStorage.html" target="_top">Frames</a></li>
<li><a href="EntityRecordStorage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.spine.server.entity.storage</div>
<h2 title="Class EntityRecordStorage" class="title">Class EntityRecordStorage&lt;I,S extends io.spine.base.EntityState&lt;I&gt;&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../io/spine/server/storage/AbstractStorage.html" title="class in io.spine.server.storage">io.spine.server.storage.AbstractStorage</a>&lt;I,R&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../io/spine/server/storage/RecordStorage.html" title="class in io.spine.server.storage">io.spine.server.storage.RecordStorage</a>&lt;I,R&gt;</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">io.spine.server.storage.RecordStorageDelegate</a>&lt;I,io.spine.server.entity.EntityRecord&gt;</li>
<li>
<ul class="inheritance">
<li>io.spine.server.entity.storage.EntityRecordStorage&lt;I,S&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>I</code> - the type of the identifiers of stored entities</dd>
<dd><code>S</code> - the type of <code>Entity</code> state</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../io/spine/server/storage/Storage.html" title="interface in io.spine.server.storage">Storage</a>&lt;I,io.spine.server.entity.EntityRecord&gt;, java.lang.AutoCloseable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">EntityRecordStorage&lt;I,S extends io.spine.base.EntityState&lt;I&gt;&gt;</span>
extends <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a>&lt;I,io.spine.server.entity.EntityRecord&gt;</pre>
<div class="block">A storage for <code>EntityRecord</code>s.

 <p>Delegates all storage operations to the underlying
 <a href="../../../../../io/spine/server/storage/RecordStorage.html" title="class in io.spine.server.storage"><code>RecordStorage</code></a>. For that, creates a new
 <code>RecordStorage</code> instance through the provided <code>StorageFactory</code> and configures
 it with the <a href="../../../../../io/spine/server/entity/storage/EntityRecordSpec.html" title="class in io.spine.server.entity.storage">record specification</a> corresponding
 to the stored Entity.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#EntityRecordStorage-io.spine.server.ContextSpec-io.spine.server.storage.StorageFactory-java.lang.Class-">EntityRecordStorage</a></span>(<a href="../../../../../io/spine/server/ContextSpec.html" title="class in io.spine.server">ContextSpec</a>&nbsp;context,
                   <a href="../../../../../io/spine/server/storage/StorageFactory.html" title="interface in io.spine.server.storage">StorageFactory</a>&nbsp;factory,
                   java.lang.Class&lt;? extends <a href="../../../../../io/spine/server/entity/Entity.html" title="interface in io.spine.server.entity">Entity</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">S</a>&gt;&gt;&nbsp;entityClass)</code>
<div class="block">Creates a new instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#delete-I-">delete</a></span>(<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&nbsp;id)</code>
<div class="block">Physically deletes the message record from the storage by the record identifier.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.Iterator&lt;io.spine.server.entity.EntityRecord&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#findAll-io.spine.query.EntityQuery-">findAll</a></span>(io.spine.query.EntityQuery&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">S</a>,?&gt;&nbsp;query)</code>
<div class="block">Finds all records which match the given query.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#index--">index</a></span>()</code>
<div class="block">Returns the iterator over all active entity records.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Iterator&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#index-io.spine.query.EntityQuery-">index</a></span>(io.spine.query.EntityQuery&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">S</a>,?&gt;&nbsp;query)</code>
<div class="block">Returns the iterator over identifiers of the records which match the passed query.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;io.spine.server.entity.EntityRecord&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#readAll--">readAll</a></span>()</code>
<div class="block">Returns the iterator over all stored non-archived and non-deleted entity records.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Iterator&lt;io.spine.server.entity.EntityRecord&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#readAll-java.lang.Iterable-">readAll</a></span>(java.lang.Iterable&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&gt;&nbsp;ids)</code>
<div class="block">Reads the entity records by the passed record identifiers.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.Iterator&lt;io.spine.server.entity.EntityRecord&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#readAll-java.lang.Iterable-com.google.protobuf.FieldMask-">readAll</a></span>(java.lang.Iterable&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&gt;&nbsp;ids,
       com.google.protobuf.FieldMask&nbsp;mask)</code>
<div class="block">Reads all the message records according to the passed record identifiers and returns
 each record applying the passed field mask.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.util.Iterator&lt;io.spine.server.entity.EntityRecord&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#readAll-io.spine.query.RecordQuery-">readAll</a></span>(io.spine.query.RecordQuery&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;&nbsp;query)</code>
<div class="block">Reads the entity records according to the passed query.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#write-I-io.spine.server.entity.EntityRecord-">write</a></span>(<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&nbsp;id,
     io.spine.server.entity.EntityRecord&nbsp;record)</code>
<div class="block">Writes the given entity record under the given identifier.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#write-io.spine.server.storage.RecordWithColumns-">write</a></span>(<a href="../../../../../io/spine/server/storage/RecordWithColumns.html" title="class in io.spine.server.storage">RecordWithColumns</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;&nbsp;record)</code>
<div class="block">Writes the record along with its filled-in column values to the storage.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#writeAll-java.lang.Iterable-">writeAll</a></span>(java.lang.Iterable&lt;? extends <a href="../../../../../io/spine/server/storage/RecordWithColumns.html" title="class in io.spine.server.storage">RecordWithColumns</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;&gt;&nbsp;records)</code>
<div class="block">Writes the batch of the records along with their filled-in columns to the storage.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.storage.RecordStorageDelegate">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.storage.<a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a></h3>
<code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#close--">close</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#deleteAll-java.lang.Iterable-">deleteAll</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#deleteRecord-I-">deleteRecord</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#index-io.spine.query.RecordQuery-">index</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#isMultitenant--">isMultitenant</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#isOpen--">isOpen</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#queryForAll--">queryForAll</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#read-I-">read</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#read-I-com.google.protobuf.FieldMask-">read</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#readAllRecords-io.spine.query.RecordQuery-">readAllRecords</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#toQuery-I-">toQuery</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#toQuery-I-com.google.protobuf.FieldMask-">toQuery</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#toQuery-java.lang.Iterable-">toQuery</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#toQuery-java.lang.Iterable-com.google.protobuf.FieldMask-">toQuery</a>, <a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#writeRecord-io.spine.server.storage.RecordWithColumns-">writeRecord</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.storage.RecordStorage">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.storage.<a href="../../../../../io/spine/server/storage/RecordStorage.html" title="class in io.spine.server.storage">RecordStorage</a></h3>
<code><a href="../../../../../io/spine/server/storage/RecordStorage.html#queryBuilder--">queryBuilder</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.io.spine.server.storage.AbstractStorage">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;io.spine.server.storage.<a href="../../../../../io/spine/server/storage/AbstractStorage.html" title="class in io.spine.server.storage">AbstractStorage</a></h3>
<code><a href="../../../../../io/spine/server/storage/AbstractStorage.html#checkNotClosed--">checkNotClosed</a>, <a href="../../../../../io/spine/server/storage/AbstractStorage.html#checkNotClosed-java.lang.String-">checkNotClosed</a>, <a href="../../../../../io/spine/server/storage/AbstractStorage.html#isClosed--">isClosed</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EntityRecordStorage-io.spine.server.ContextSpec-io.spine.server.storage.StorageFactory-java.lang.Class-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EntityRecordStorage</h4>
<pre>public&nbsp;EntityRecordStorage(<a href="../../../../../io/spine/server/ContextSpec.html" title="class in io.spine.server">ContextSpec</a>&nbsp;context,
                           <a href="../../../../../io/spine/server/storage/StorageFactory.html" title="interface in io.spine.server.storage">StorageFactory</a>&nbsp;factory,
                           java.lang.Class&lt;? extends <a href="../../../../../io/spine/server/entity/Entity.html" title="interface in io.spine.server.entity">Entity</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">S</a>&gt;&gt;&nbsp;entityClass)</pre>
<div class="block">Creates a new instance.

 <p>This constructor takes the specification of the Bounded Context in which the storage
 is created. It may be used by other framework libraries and SPI users to set properties
 of an underlying DBMS (such as DB table names), with which this record storage interacts.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - specification of the Bounded Context in which the created storage will be used</dd>
<dd><code>factory</code> - storage factory</dd>
<dd><code>entityClass</code> - class of an Entity which data is stored in the created storage</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="index--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>index</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&gt;&nbsp;index()</pre>
<div class="block">Returns the iterator over all active entity records.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/Storage.html#index--">index</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../io/spine/server/storage/Storage.html" title="interface in io.spine.server.storage">Storage</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#index--">index</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the storage is already closed</dd>
</dl>
</li>
</ul>
<a name="index-io.spine.query.EntityQuery-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>index</h4>
<pre>public&nbsp;java.util.Iterator&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&gt;&nbsp;index(io.spine.query.EntityQuery&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">S</a>,?&gt;&nbsp;query)</pre>
<div class="block">Returns the iterator over identifiers of the records which match the passed query.

 <p>Unless the query specifies otherwise, only non-archived and non-deleted entity records
 are queried.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the storage is already closed</dd>
</dl>
</li>
</ul>
<a name="readAll-java.lang.Iterable-com.google.protobuf.FieldMask-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readAll</h4>
<pre>public&nbsp;java.util.Iterator&lt;io.spine.server.entity.EntityRecord&gt;&nbsp;readAll(java.lang.Iterable&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&gt;&nbsp;ids,
                                                                       com.google.protobuf.FieldMask&nbsp;mask)</pre>
<div class="block">Reads all the message records according to the passed record identifiers and returns
 each record applying the passed field mask.

 <p>The response contains only the records which were found.

 <p>Returns the records for both active and non-active entities.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#readAll-java.lang.Iterable-com.google.protobuf.FieldMask-">readAll</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ids</code> - the identifiers of the records to read</dd>
<dd><code>mask</code> - the mask to apply to each record</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the iterator over the records</dd>
</dl>
</li>
</ul>
<a name="readAll-io.spine.query.RecordQuery-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readAll</h4>
<pre>public&nbsp;java.util.Iterator&lt;io.spine.server.entity.EntityRecord&gt;&nbsp;readAll(io.spine.query.RecordQuery&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;&nbsp;query)</pre>
<div class="block">Reads the entity records according to the passed query.

 <p>If the passed query has no ID parameter set, only the records of the active entities
 are returned. If the query includes the ID parameter, includes non-active entities as well.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#readAll-io.spine.query.RecordQuery-">readAll</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>query</code> - the query to execute</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>iterator over the matching records</dd>
</dl>
</li>
</ul>
<a name="readAll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readAll</h4>
<pre>public&nbsp;java.util.Iterator&lt;io.spine.server.entity.EntityRecord&gt;&nbsp;readAll()</pre>
<div class="block">Returns the iterator over all stored non-archived and non-deleted entity records.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#readAll--">readAll</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>iterator over the records</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the storage is already closed</dd>
</dl>
</li>
</ul>
<a name="findAll-io.spine.query.EntityQuery-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findAll</h4>
<pre>public final&nbsp;java.util.Iterator&lt;io.spine.server.entity.EntityRecord&gt;&nbsp;findAll(io.spine.query.EntityQuery&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">S</a>,?&gt;&nbsp;query)</pre>
<div class="block">Finds all records which match the given query.

 <p>Only the records of active entities are returned.</div>
</li>
</ul>
<a name="readAll-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readAll</h4>
<pre>public&nbsp;java.util.Iterator&lt;io.spine.server.entity.EntityRecord&gt;&nbsp;readAll(java.lang.Iterable&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&gt;&nbsp;ids)</pre>
<div class="block">Reads the entity records by the passed record identifiers.

 <p>The results include the records of both active and non-active entities.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#readAll-java.lang.Iterable-">readAll</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ids</code> - identifiers of the records of interest</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>iterator over the matching entity records</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the storage is already closed</dd>
</dl>
</li>
</ul>
<a name="write-java.lang.Object-io.spine.server.entity.EntityRecord-">
<!--   -->
</a><a name="write-I-io.spine.server.entity.EntityRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&nbsp;id,
                  io.spine.server.entity.EntityRecord&nbsp;record)</pre>
<div class="block">Writes the given entity record under the given identifier.

 <p>Completely ignores the entity columns. Use <a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html#write-io.spine.server.storage.RecordWithColumns-"><code>write(RecordWithColumns)</code></a> to write the value with the columns.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/Storage.html#write-I-M-">write</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../io/spine/server/storage/Storage.html" title="interface in io.spine.server.storage">Storage</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#write-I-R-">write</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the ID for the record</dd>
<dd><code>record</code> - the record to store</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - if the storage is already closed</dd>
</dl>
</li>
</ul>
<a name="write-io.spine.server.storage.RecordWithColumns-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>public&nbsp;void&nbsp;write(<a href="../../../../../io/spine/server/storage/RecordWithColumns.html" title="class in io.spine.server.storage">RecordWithColumns</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;&nbsp;record)</pre>
<div class="block">Writes the record along with its filled-in column values to the storage.

 <p>Overrides to expose as a part of the public API.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#write-io.spine.server.storage.RecordWithColumns-">write</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>record</code> - the record and additional columns with their values</dd>
</dl>
</li>
</ul>
<a name="writeAll-java.lang.Iterable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeAll</h4>
<pre>public&nbsp;void&nbsp;writeAll(java.lang.Iterable&lt;? extends <a href="../../../../../io/spine/server/storage/RecordWithColumns.html" title="class in io.spine.server.storage">RecordWithColumns</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;&gt;&nbsp;records)</pre>
<div class="block">Writes the batch of the records along with their filled-in columns to the storage.

 <p>Overrides to expose as a part of the public API.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#writeAll-java.lang.Iterable-">writeAll</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>records</code> - records and their column values</dd>
</dl>
</li>
</ul>
<a name="delete-java.lang.Object-">
<!--   -->
</a><a name="delete-I-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>delete</h4>
<pre>public&nbsp;boolean&nbsp;delete(<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>&nbsp;id)</pre>
<div class="block">Physically deletes the message record from the storage by the record identifier.

 <p>In case the record with the specified identifier is not found in the storage,
 this method does nothing and returns <code>false</code>.

 <p>Overrides to expose as a part of the public API.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html#delete-I-">delete</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../io/spine/server/storage/RecordStorageDelegate.html" title="class in io.spine.server.storage">RecordStorageDelegate</a>&lt;<a href="../../../../../io/spine/server/entity/storage/EntityRecordStorage.html" title="type parameter in EntityRecordStorage">I</a>,io.spine.server.entity.EntityRecord&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - identifier of the record to delete</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the record was deleted,
         or <code>false</code> if the record with the specified identifier was not found</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../io/spine/server/entity/storage/EntityRecordWithColumns.html" title="class in io.spine.server.entity.storage"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?io/spine/server/entity/storage/EntityRecordStorage.html" target="_top">Frames</a></li>
<li><a href="EntityRecordStorage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
